---
import MainLayout from "../layouts/MainLayout.astro";
import ProjectCard from "../components/ProjectCard.astro";
import { projects } from "../data/projects.js";
---

<MainLayout title="Projects â€” Supm3n">
    <main id="main-content" role="main">
        <section class="projects-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">
                        All Projects
                        <!-- Simple CSS-only health indicator -->
                        <span
                            class="health-indicator"
                            aria-label="System status"></span>
                    </h2>
                </div>

                <div class="projects-grid">
                    {
                        projects.map((project) => (
                            <ProjectCard project={project} />
                        ))
                    }
                </div>
            </div>
        </section>
    </main>
</MainLayout>

<style>
    /* Add the health indicator style locally */
    .health-indicator {
        display: inline-block;
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: #10b981;
        box-shadow: 0 0 8px #10b981;
        margin-left: 10px;
        animation: pulse 2s ease-in-out infinite;
    }

    @keyframes pulse {
        0%,
        100% {
            opacity: 1;
        }
        50% {
            opacity: 0.5;
        }
    }

    /* Ensure grid looks good */
    .projects-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
        gap: clamp(1.5rem, 3vw, 2rem);
        margin-top: 2rem;
    }
</style>
