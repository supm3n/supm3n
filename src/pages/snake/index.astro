---
// src/pages/snake/index.astro
import MainLayout from '../../layouts/MainLayout.astro';
import '../../styles/snake.css';
---

<MainLayout title="Snake Game — Supm3n">
  <main id="main-content" class="container snake-page">
    <section class="game-header">
      <h1>Snake Game</h1>
      <p>Use arrow keys, WASD, or click/tap to change direction</p>
    </section>

    <div class="game-container">
      <div class="game-info">
        <div class="score-display">
          <div class="score-item">
            <span class="score-label">Score</span>
            <span class="score-value" id="score">0</span>
          </div>
          <div class="score-item">
            <span class="score-label">High Score</span>
            <span class="score-value" id="high-score">0</span>
          </div>
        </div>
        <div class="game-controls">
          <button id="start-btn" class="btn btn-primary">Start</button>
          <button id="pause-btn" class="btn btn-secondary" disabled>Pause</button>
          <button id="reset-btn" class="btn btn-secondary">Reset</button>
        </div>
      </div>

      <div class="game-wrapper">
        <canvas id="game-canvas"></canvas>
        
        <div id="game-over" class="game-over hidden">
          <h2>Game Over!</h2>
          <p class="final-score">Final Score: <span id="final-score">0</span></p>
          <button id="play-again-btn" class="btn btn-primary">Play Again</button>
        </div>
        
        <div id="game-start" class="game-start">
          <h2>Snake Game</h2>
          <p>Click Start to begin</p>
        </div>
      </div>

      <div class="controls-info">
        <div class="control-section">
          <h3>Keyboard Controls</h3>
          <div class="control-grid">
            <div class="control-item">
              <kbd>↑</kbd> <kbd>↓</kbd> <kbd>←</kbd> <kbd>→</kbd>
              <span>Arrow Keys</span>
            </div>
            <div class="control-item">
              <kbd>W</kbd> <kbd>S</kbd> <kbd>A</kbd> <kbd>D</kbd>
              <span>WASD</span>
            </div>
            <div class="control-item">
              <kbd>Space</kbd>
              <span>Pause/Resume</span>
            </div>
          </div>
        </div>
        <div class="control-section">
          <h3>Mouse/Touch Controls</h3>
          <p>Click or tap on the game area to change direction</p>
          <p class="hint">Click above snake = Up, below = Down, left = Left, right = Right</p>
        </div>
      </div>
    </div>
  </main>
</MainLayout>

<script>
  import { SnakeGame } from '../../scripts/snakeGame.js';
  // Start game when component loads
  document.addEventListener('DOMContentLoaded', () => {
      new SnakeGame();
  });
</script>